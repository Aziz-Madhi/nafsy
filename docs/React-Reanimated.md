TITLE: Merging Static and Dynamic Styles with useAnimatedStyle (React Native Reanimated)
DESCRIPTION: This snippet illustrates the recommended approach for combining static styles, defined using `StyleSheet.create`, with dynamic styles generated by `useAnimatedStyle`. This practice optimizes performance by preventing unnecessary recalculations of static style properties, merging them efficiently using the array syntax.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/core/useAnimatedStyle.mdx#_snippet_4

LANGUAGE: jsx
CODE:
```
function App() {
  const animatedStyles = useAnimatedStyle(() => ({
    offset: sv.value,
  }));

  // highlight-next-line
  return <Animated.View style={[styles.box, animatedStyles]} />;
}

const styles = StyleSheet.create({
  box: {
    height: 120,
    width: 120,
    backgroundColor: '#b58df1',
  },
});
```

----------------------------------------

TITLE: Animating Opacity with useAnimatedStyle in React Native Reanimated (JSX)
DESCRIPTION: This JSX snippet demonstrates the basic usage of `useAnimatedStyle` to create an animated style object. It defines an `opacity` style property that changes based on a shared value (`sv.value`). The resulting `animatedStyles` object is then applied to an `Animated.View` component, allowing for dynamic, declarative animations.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/core/useAnimatedStyle.mdx#_snippet_0

LANGUAGE: jsx
CODE:
```
import { useAnimatedStyle } from 'react-native-reanimated';

function App() {
  const animatedStyles = useAnimatedStyle(() => {
    return {
      opacity: sv.value ? 1 : 0,
    };
  });

  return <Animated.View style={[styles.box, animatedStyles]} />;
}
```

----------------------------------------

TITLE: Basic Usage of withTiming in React Native Reanimated
DESCRIPTION: This snippet demonstrates the basic usage of `withTiming` to animate a shared value (`sv.value`) to `0`. It imports `withTiming` from `react-native-reanimated` and assigns the animation object directly to a shared value.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/animations/withTiming.mdx#_snippet_0

LANGUAGE: javascript
CODE:
```
import { withTiming } from 'react-native-reanimated';

function App() {
  sv.value = withTiming(0);
  // ...
}
```

----------------------------------------

TITLE: Applying useAnimatedStyle to an Animated.View in React Native
DESCRIPTION: This example demonstrates how to integrate `useAnimatedStyle` with an `Animated.View` component in React Native. It initializes a `useSharedValue` for `width` and uses `useAnimatedStyle` to create a dynamic style object. The resulting animated style is then applied to an `Animated.View` alongside a static style defined using `StyleSheet.create`.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-2.x/api/hooks/useAnimatedStyle.md#_snippet_1

LANGUAGE: JavaScript
CODE:
```
import { StyleSheet } from 'react-native';
import {
  Animated,
  useSharedValue,
  useAnimatedStyle,
} from 'react-native-reanimated';

function App() {
  const width = useSharedValue(50);

  const animatedStyle = useAnimatedStyle(() => {
    return {
      width: width.value,
    };
  });

  // attach animated style to a View using style property
  return <Animated.View style={[styles.box, animatedStyle]} />;
}

const styles = StyleSheet.create({
  box: {
    height: 50,
    backgroundColor: 'blue',
  },
});
```

----------------------------------------

TITLE: Animating View with withTiming in React Native Reanimated
DESCRIPTION: This snippet demonstrates a basic animation using `useAnimatedStyle` and `withTiming` to move an `Animated.View` horizontally. It initializes a shared value and updates it with `withTiming` on a button press, causing the view to smoothly translate to a new position.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/fundamentals/applying-modifiers.mdx#_snippet_0

LANGUAGE: JavaScript
CODE:
```
import React from 'react';
import { View, Button, Text } from 'react-native';
import Animated, {
  useSharedValue,
  useAnimatedStyle,
  withTiming
} from 'react-native-reanimated';

export default function Timing() {
  const offset = useSharedValue(0);

  const animatedStyles = useAnimatedStyle(() => {
    return {
      transform: [{ translateX: offset.value }]
    };
  });

  const handlePress = () => {
    offset.value = withTiming(40);
  };

  return (
    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>
      <Animated.View
        style={[
          { width: 100, height: 100, backgroundColor: 'blue', borderRadius: 10 },
          animatedStyles
        ]}
      />
      <Button onPress={handlePress} title="Move Right" />
    </View>
  );
}
```

----------------------------------------

TITLE: Creating an Animated View Component in React Native Reanimated
DESCRIPTION: This snippet shows how to use the `Animated.View` component to render a basic animatable element. It sets initial `width`, `height`, and `backgroundColor` styles, demonstrating the fundamental usage of an `Animated` component within a React Native application.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/fundamentals/your-first-animation.mdx#_snippet_1

LANGUAGE: jsx
CODE:
```
import Animated from 'react-native-reanimated';

export default function App() {
  return (
    <Animated.View
      style={{
        width: 100,
        height: 100,
        backgroundColor: 'violet',
      }}
    />
  );
}
```

----------------------------------------

TITLE: Animating `translateX` with `withSpring` and Inline Styles
DESCRIPTION: This example demonstrates animating a box's horizontal position (`translateX`) using `useSharedValue` and `withSpring` for a smooth, spring-based effect. The `translateX` value is updated incrementally on each button press, showcasing basic interactive animation while highlighting the difficulty of applying custom logic to the shared value before assignment when using inline styles.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/fundamentals/animating-styles-and-props.mdx#_snippet_2

LANGUAGE: jsx
CODE:
```
import { View, Button } from 'react-native';
import Animated, { useSharedValue, withSpring } from 'react-native-reanimated';

function App() {
  const translateX = useSharedValue(0);

  const handlePress = () => {
    // highlight-next-line
    translateX.value = withSpring(translateX.value + 50);
  };

  return (
    <View style={styles.container}>
      {/* highlight-next-line */}
      <Animated.View style={[styles.box, { transform: [{ translateX }] }]} />
      <Button onPress={handlePress} title="Click me" />
    </View>
  );
}
```

----------------------------------------

TITLE: Initializing and Modifying useSharedValue in JavaScript
DESCRIPTION: This JavaScript snippet demonstrates the basic usage of `useSharedValue` from `react-native-reanimated`. It shows how to initialize a shared value with an initial number, then read its current value using `sv.value` and modify it directly by assigning a new value to `sv.value`.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/core/useSharedValue.mdx#_snippet_0

LANGUAGE: javascript
CODE:
```
import { useSharedValue } from 'react-native-reanimated';

function App() {
  const sv = useSharedValue(100);

  // read a shared value
  console.log(sv.value);

  // and modify it
  sv.value += 50;
}
```

----------------------------------------

TITLE: Modifying Shared Value on Button Press in React Native Reanimated
DESCRIPTION: This snippet shows how to modify a shared value's `.value` property in response to a user interaction, specifically a button press. The `handlePress` function increments the `width` shared value by 50, which will trigger an animation on the `Animated.View` when combined with animation functions.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/fundamentals/your-first-animation.mdx#_snippet_4

LANGUAGE: jsx
CODE:
```
import { Button, View } from 'react-native';
import Animated, { useSharedValue } from 'react-native-reanimated';

export default function App() {
  const width = useSharedValue(100);

  const handlePress = () => {
    width.value = width.value + 50;
  };

  return (
    <View style={{ flex: 1, alignItems: 'center' }}>
      <Animated.View
        style={{
          width,
          height: 100,
          backgroundColor: 'violet',
        }}
      />
      <Button onPress={handlePress} title="Click me" />
    </View>
  );
}
```

----------------------------------------

TITLE: Basic Usage of useAnimatedStyle in React Native Reanimated
DESCRIPTION: This snippet demonstrates the basic usage of `useAnimatedStyle` to create an animated style object. It shows how to define a style based on a shared value (`sv.value`) and apply it to an `Animated.View` component. The `opacity` property will animate between 1 and 0 based on the `sv.value`.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/core/useAnimatedStyle.mdx#_snippet_0

LANGUAGE: jsx
CODE:
```
import { useAnimatedStyle } from 'react-native-reanimated';

function App() {
  // highlight-next-line
  const animatedStyles = useAnimatedStyle(() => {
    return {
      opacity: sv.value ? 1 : 0,
    };
    // highlight-next-line
  });

  // highlight-next-line
  return <Animated.View style={[styles.box, animatedStyles]} />;
}
```

----------------------------------------

TITLE: Animating Width with withSpring in React Native Reanimated (JSX)
DESCRIPTION: This snippet demonstrates how to use `useSharedValue` to create an animatable width property and `withSpring` to apply a bouncy spring animation when a button is pressed. The `width.value` is updated with the result of `withSpring`, causing the `Animated.View` to smoothly transition its width.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/fundamentals/your-first-animation.mdx#_snippet_5

LANGUAGE: JSX
CODE:
```
import { Button, View } from 'react-native';
import Animated, { useSharedValue, withSpring } from 'react-native-reanimated';

export default function App() {
  const width = useSharedValue(100);

  const handlePress = () => {
    width.value = withSpring(width.value + 50);
  };

  return (
    <View style={{ flex: 1, alignItems: 'center' }}>
      <Animated.View
        style={{
          width,
          height: 100,
          backgroundColor: 'violet',
        }}
      />
      <Button onPress={handlePress} title="Click me" />
    </View>
  );
}
```

----------------------------------------

TITLE: Creating a Spring Animation with React Native Reanimated
DESCRIPTION: This JSX snippet demonstrates how to use `useSharedValue` to manage an animatable width and `withSpring` to apply a bouncy animation when a button is pressed. The `Animated.View` component's width is bound to the shared value, causing it to animate smoothly. It requires `react-native`, `react-native-reanimated` as dependencies.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/fundamentals/your-first-animation.mdx#_snippet_5

LANGUAGE: jsx
CODE:
```
import { Button, View } from 'react-native';
import Animated, { useSharedValue, withSpring } from 'react-native-reanimated';

export default function App() {
  const width = useSharedValue(100);

  const handlePress = () => {
    width.value = withSpring(width.value + 50);
  };

  return (
    <View style={{ flex: 1, alignItems: 'center' }}>
      <Animated.View
        style={{
          width,
          height: 100,
          backgroundColor: 'violet',
        }}
      />
      <Button onPress={handlePress} title="Click me" />
    </View>
  );
}
```

----------------------------------------

TITLE: Basic Usage of withTiming in React Native Reanimated
DESCRIPTION: This snippet demonstrates the fundamental way to use `withTiming` to animate a shared value. It shows how to import the function and assign its result to a shared value to initiate a timing-based animation.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/animations/withTiming.mdx#_snippet_0

LANGUAGE: javascript
CODE:
```
import { withTiming } from 'react-native-reanimated';

function App() {
  sv.value = withTiming(0);
  // ...
}
```

----------------------------------------

TITLE: Rendering Interactive React Native Reanimated Example
DESCRIPTION: Renders an `InteractiveExample` component, passing the `SpringCarousel` component itself and its raw source code. This component is designed to display the interactive example and potentially its source code side-by-side for demonstration purposes.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/animations/withSpring.mdx#_snippet_4

LANGUAGE: jsx
CODE:
```
<InteractiveExample src={SpringCarouselSrc} component={SpringCarousel} />
```

----------------------------------------

TITLE: Updating Shared Value from React Native JS Thread
DESCRIPTION: This example illustrates how to update a Shared Value's `.value` property from the React Native JS thread. Updates made from this thread are asynchronous, meaning the value is not immediately updated but scheduled for performance on the UI thread, similar to how React's state updates behave.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-2.x/fundamentals/shared-values.md#_snippet_1

LANGUAGE: js
CODE:
```
import { useSharedValue } from 'react-native-reanimated';

function SomeComponent() {
  const sharedVal = useSharedValue(0);
  return (
    <Button
      onPress={() => (sharedVal.value = Math.random())}
      title="Randomize"
    />
  );
}
```

----------------------------------------

TITLE: Implementing Shared Element Transitions with `sharedTransitionTag` in React Native
DESCRIPTION: This example demonstrates the basic usage of `sharedTransitionTag` to enable shared element transitions between two screens in a React Native navigation stack. Components with the same `sharedTransitionTag` across different screens will animate smoothly during navigation.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/shared-element-transitions/overview.mdx#_snippet_0

LANGUAGE: javascript
CODE:
```
import Animated from 'react-native-reanimated';

const Stack = createNativeStackNavigator();

function One({ navigation }) {
  return (
    <>
      <Animated.View
        // highlight-start
        sharedTransitionTag="sharedTag"
        // highlight-end
      />
      <Button title="Two" onPress={() => navigation.navigate('Two')} />
    </>
  );
}

function Two({ navigation }) {
  return (
    <>
      <Animated.View
        // highlight-start
        sharedTransitionTag="sharedTag"
        // highlight-end
      />
      <Button title="One" onPress={() => navigation.navigate('One')} />
    </>
  );
}

export default function SharedElementExample() {
  return (
    <NavigationContainer>
      <Stack.Navigator screenOptions={{ headerShown: true }}>
        <Stack.Screen name="One" component={One} />
        <Stack.Screen name="Two" component={Two} />
      </Stack.Navigator>
    </NavigationContainer>
  );
}
```

----------------------------------------

TITLE: Using Animated.View Component in React Native Reanimated
DESCRIPTION: This code shows how to use an `Animated.View` component, which is an animatable version of React Native's `View`. It's used just like a regular JSX component, allowing you to apply styles and other properties that can be animated by Reanimated.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/fundamentals/your-first-animation.mdx#_snippet_1

LANGUAGE: jsx
CODE:
```
import Animated from 'react-native-reanimated';

export default function App() {
  return (
    <Animated.View
      style={{
        width: 100,
        height: 100,
        backgroundColor: 'violet',
      }}
    />
  );
}
```

----------------------------------------

TITLE: Create New Expo App with Reanimated
DESCRIPTION: This snippet demonstrates how to quickly create a new Expo application pre-configured with React Native Reanimated using either npm or yarn. It's suitable for starting a new project from scratch and provides a ready-to-use environment for Reanimated development.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/fundamentals/getting-started.mdx#_snippet_0

LANGUAGE: bash
CODE:
```
npx create-expo-app@latest my-app -e with-reanimated
```

LANGUAGE: bash
CODE:
```
yarn create expo-app my-app -e with-reanimated
```

----------------------------------------

TITLE: Install React Native Reanimated Package
DESCRIPTION: Installs the "react-native-reanimated@next" package, which is the initial step to integrate Reanimated 4 into an Expo project. This ensures you get the latest compatible version for the React Native New Architecture.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/fundamentals/getting-started.mdx#_snippet_0

LANGUAGE: bash
CODE:
```
npm install react-native-reanimated@next
```

LANGUAGE: bash
CODE:
```
yarn add react-native-reanimated@next
```

----------------------------------------

TITLE: Animating translateX with withSpring on Button Press - React Native Reanimated (JSX)
DESCRIPTION: This example shows a box moving horizontally using `translateX` animated with `withSpring` on each button press. It updates the `translateX` shared value by adding 50 units, demonstrating a common pattern for interactive movement animations.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/fundamentals/animating-styles-and-props.mdx#_snippet_2

LANGUAGE: JSX
CODE:
```
import { View, Button } from 'react-native';
import Animated, { useSharedValue, withSpring } from 'react-native-reanimated';

function App() {
  const translateX = useSharedValue(0);

  const handlePress = () => {
    // highlight-next-line
    translateX.value = withSpring(translateX.value + 50);
  };

  return (
    <View style={styles.container}>
      {/* highlight-next-line */}
      <Animated.View style={[styles.box, { transform: [{ translateX }] }]} />
      <Button onPress={handlePress} title="Click me" />
    </View>
  );
}
```

----------------------------------------

TITLE: Initializing and Using Shared Value for Width in React Native Reanimated
DESCRIPTION: This example demonstrates initializing a shared value using `useSharedValue` with a default numerical value (100). The shared value `width` is then directly passed to the `width` style property of an `Animated.View`, allowing its value to control the component's width and be animated.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/fundamentals/your-first-animation.mdx#_snippet_3

LANGUAGE: jsx
CODE:
```
import Animated, { useSharedValue } from 'react-native-reanimated';

export default function App() {
  const width = useSharedValue(100);

  return (
    <Animated.View
      style={{
        width,
        height: 100,
        backgroundColor: 'violet',
      }}
    />
  );
}
```

----------------------------------------

TITLE: Animating UI with withSpring and PanGestureHandler in React Native Reanimated
DESCRIPTION: This example demonstrates how to use `withSpring` for creating a spring-based animation in React Native Reanimated. It integrates `useSharedValue` to manage the animated value, `useAnimatedStyle` to apply transformations, and `PanGestureHandler` to enable interactive dragging, resetting the element to its original position with a spring animation on release.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-2.x/api/animations/withSpring.md#_snippet_0

LANGUAGE: JavaScript
CODE:
```
import Animated, {
  useSharedValue,
  withSpring,
  useAnimatedStyle,
  useAnimatedGestureHandler,
} from 'react-native-reanimated';
import { PanGestureHandler } from 'react-native-gesture-handler';

function App() {
  const x = useSharedValue(0);

  const gestureHandler = useAnimatedGestureHandler({
    onStart: (_, ctx) => {
      ctx.startX = x.value;
    },
    onActive: (event, ctx) => {
      x.value = ctx.startX + event.translationX;
    },
    onEnd: (_) => {
      x.value = withSpring(0);
    },
  });

  const animatedStyle = useAnimatedStyle(() => {
    return {
      transform: [
        {
          translateX: x.value,
        },
      ],
    };
  });

  return (
    <PanGestureHandler onGestureEvent={gestureHandler}>
      <Animated.View style={[styles.box, animatedStyle]} />
    </PanGestureHandler>
  );
}
```

----------------------------------------

TITLE: Automatic Workletization with useAnimatedStyle Hook (TypeScript)
DESCRIPTION: This example reiterates the concept of autoworkletization, specifically for callbacks passed to Reanimated hooks like `useAnimatedStyle`. The Babel plugin automatically transforms such functions into worklets, eliminating the need for manual `'worklet';` directives and simplifying the code.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/reanimated-babel-plugin/about.md#_snippet_10

LANGUAGE: TypeScript
CODE:
```
const style = useAnimatedStyle(() => {
  // You don't need to add the 'worklet' directive here,
  // since plugin detects this callback as autoworkletizable.
  return {
    width: 100,
  };
});
```

----------------------------------------

TITLE: React Compiler Compliant useSharedValue Usage with get/set Methods
DESCRIPTION: This JavaScript snippet illustrates the recommended way to use `useSharedValue` when working with the React Compiler, by utilizing the `get()` and `set()` methods instead of direct `value` property access. It demonstrates integrating a shared value with `useAnimatedStyle` and updating it within an event handler.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/core/useSharedValue.mdx#_snippet_2

LANGUAGE: javascript
CODE:
```
function App() {
  const sv = useSharedValue(100);

  const animatedStyle = useAnimatedStyle(() => {
    'worklet';
    return { width: sv.get() * 100 };
  });

  const handlePress = () => {
    sv.set((value) => value + 1);
  };
}
```

----------------------------------------

TITLE: JavaScript/TypeScript: Manage Accordion Height with Shared Value
DESCRIPTION: This snippet demonstrates the declaration of a `height` shared value using `useSharedValue` from React Native Reanimated. This shared value is crucial for animating the accordion item's height, ensuring smooth transitions without triggering excessive re-renders.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/blog/accordion.md#_snippet_0

LANGUAGE: JavaScript
CODE:
```
import { useSharedValue } from 'react-native-reanimated';

// Inside a component:
const height = useSharedValue(0);
```

----------------------------------------

TITLE: Basic Inline Style Animation with React Native Reanimated
DESCRIPTION: This snippet demonstrates how to animate a component's style by directly passing a `useSharedValue` to its `style` prop. It's a straightforward approach for simple animations where no complex transformations or calculations are needed on the shared value itself.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/fundamentals/animating-styles-and-props.mdx#_snippet_0

LANGUAGE: jsx
CODE:
```
import Animated, { useSharedValue } from 'react-native-reanimated';

function App() {
  const width = useSharedValue(100);

  return <Animated.View style={{ width }} />;
}
```

----------------------------------------

TITLE: Creating a Derived Shared Value (JavaScript)
DESCRIPTION: This snippet demonstrates how to use `useDerivedValue` to create a new reactive shared value. The `derivedValue` automatically updates whenever `sv.value` changes, multiplying its current value by 50. This hook is essential for performing calculations on shared values and keeping the results synchronized on the UI thread.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/core/useDerivedValue.mdx#_snippet_0

LANGUAGE: javascript
CODE:
```
import { useDerivedValue } from 'react-native-reanimated';

function App() {
  const derivedValue = useDerivedValue(() => {
    return sv.value * 50;
  });
}
```

----------------------------------------

TITLE: Basic Usage of runOnJS in React Native Reanimated
DESCRIPTION: This snippet demonstrates the basic usage of `runOnJS` to execute a non-workletized function (`navigation.goBack`) on the JavaScript thread from the UI thread. It's typically used within a UI thread context, such as an animation callback or gesture handler, to interact with standard JavaScript functions.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/threading/runOnJS.mdx#_snippet_0

LANGUAGE: javascript
CODE:
```
import { runOnJS } from 'react-native-reanimated';

function App() {
  // While on the UI thread
  runOnJS(navigation.goBack)();
}
```

----------------------------------------

TITLE: Modifying Shared Value on Button Press for Width Animation in React Native Reanimated
DESCRIPTION: This snippet shows how to dynamically modify a shared value (`width.value`) in response to a button press, incrementing it by 50. The updated shared value then automatically reflects in the `width` style of the `Animated.View`, demonstrating how user interaction can drive animations by directly mutating the `.value` property of a shared value.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/fundamentals/your-first-animation.mdx#_snippet_4

LANGUAGE: jsx
CODE:
```
import { Button, View } from 'react-native';
import Animated, { useSharedValue } from 'react-native-reanimated';

export default function App() {
  const width = useSharedValue(100);

  const handlePress = () => {
    width.value = width.value + 50;
  };

  return (
    <View style={{ flex: 1, alignItems: 'center' }}>
      <Animated.View
        style={{
          width,
          height: 100,
          backgroundColor: 'violet',
        }}
      />
      <Button onPress={handlePress} title="Click me" />
    </View>
  );
}
```

----------------------------------------

TITLE: Caution: Avoiding Infinite Loops with useAnimatedReaction
DESCRIPTION: This example highlights a common pitfall: mutating the same shared value within the `react` function that was used in the `prepare` function. This leads to an infinite loop and should be avoided to prevent application freezes or crashes.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/advanced/useAnimatedReaction.mdx#_snippet_4

LANGUAGE: jsx
CODE:
```
function App() {
  useAnimatedReaction(
    () => {
      // highlight-next-line
      return width.value;
    },
    (currentValue) => {
      // 🚨 An infinite loop!
      // highlight-next-line
      width.value += currentValue;
    }
  );
}
```

----------------------------------------

TITLE: Defining and Using a Shared Value for Component Width in React Native Reanimated
DESCRIPTION: This snippet demonstrates how to define a shared value using `useSharedValue` with an initial numerical value (100) and then apply it directly to the `width` style property of an `Animated.View` component. This setup prepares the component for dynamic width animations driven by the shared value.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/fundamentals/your-first-animation.mdx#_snippet_3

LANGUAGE: jsx
CODE:
```
import Animated, { useSharedValue } from 'react-native-reanimated';

export default function App() {
  const width = useSharedValue(100);

  return (
    <Animated.View
      style={{
        width,
        height: 100,
        backgroundColor: 'violet',
      }}
    />
  );
}
```

----------------------------------------

TITLE: Animating Background Color with interpolateColor (React Native Reanimated)
DESCRIPTION: This snippet demonstrates how to use `interpolateColor` from `react-native-reanimated` to animate the `backgroundColor` of an `Animated.View`. It maps a `progress` shared value from `0` to `1` to a color range from `red` to `green`, creating a smooth color transition.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/utilities/interpolateColor.mdx#_snippet_0

LANGUAGE: jsx
CODE:
```
import { interpolateColor } from 'react-native-reanimated';

function App() {
  const progress = useSharedValue(0);

  const animatedStyle = useAnimatedStyle(() => {
    return {
      // highlight-start
      backgroundColor: interpolateColor(
        progress.value,
        [0, 1],
        ['red', 'green']
      ),
      // highlight-end
    };
  });

  // ...

  return <Animated.View style={[{ width: 100, height: 100 }, animatedStyle]} />;
}
```

----------------------------------------

TITLE: Importing Animated Component in React Native Reanimated
DESCRIPTION: This snippet demonstrates how to import the `Animated` object from `react-native-reanimated`. This object is essential for creating animatable versions of React Native's built-in components like `View`, `ScrollView`, or `FlatList`, enabling them to participate in animations.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/fundamentals/your-first-animation.mdx#_snippet_0

LANGUAGE: jsx
CODE:
```
import Animated from 'react-native-reanimated';
```

----------------------------------------

TITLE: Accessing Component Instance with useAnimatedRef.current (JSX)
DESCRIPTION: This example illustrates the timing of `animatedRef.current` availability. It shows that `animatedRef.current` is initially `null` when accessed immediately, but becomes populated with the component instance after the component has mounted, typically within a `useEffect` hook or event handlers.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/core/useAnimatedRef.mdx#_snippet_2

LANGUAGE: JSX
CODE:
```
function App() {
  const animatedRef = useAnimatedRef();

  console.log(animatedRef.current); // 🚩 Returns null

  useEffect(() => {
    console.log(animatedRef.current); // ✅ Returns the component
  }, []);

  return <View ref={animatedRef} />;
}
```

----------------------------------------

TITLE: Using useAnimatedScrollHandler with Dependencies
DESCRIPTION: This snippet demonstrates how to use `useAnimatedScrollHandler` with an optional `dependencies` array. The `dependencies` array controls when the worklet inside the handler is rebuilt, ensuring that values from the component's state, like `state` in this example, are correctly captured and updated within the worklet's closure. The handler is configured to update a shared value `sv` based on the component's `state` when the `onEndDrag` event occurs.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-2.x/api/hooks/useAnimatedScrollHandler.md#_snippet_0

LANGUAGE: javascript
CODE:
```
const App = () => {
  const [state, setState] = useState(0);
  const sv = useSharedValue(0);

  const handler = useAnimatedScrollHandler(
    {
      onEndDrag: (e) => {
        sv.value = state;
      },
    },
    dependencies
  );
  //...
  return <></>;
};
```

----------------------------------------

TITLE: Configuring withSpring Animation in React Native Reanimated
DESCRIPTION: This snippet illustrates how to customize a `withSpring` physics-based animation in React Native Reanimated. It configures the spring's behavior using `mass` (inertia), `stiffness` (bounciness), and `damping` (how quickly it comes to rest). The `sv.value` represents the shared value being animated.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/fundamentals/customizing-animation.mdx#_snippet_1

LANGUAGE: jsx
CODE:
```
import { withSpring } from 'react-native-reanimated';

withSpring(sv.value, {
  mass: 1,
  stiffness: 100,
  damping: 10,
});
```

----------------------------------------

TITLE: Basic Usage of useSharedValue in React Native Reanimated
DESCRIPTION: This snippet demonstrates the fundamental usage of `useSharedValue` to create, read, and modify a shared value. It shows how to import the hook, initialize a shared value with an initial number, and then access and update its `value` property directly.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/core/useSharedValue.mdx#_snippet_0

LANGUAGE: javascript
CODE:
```
import { useSharedValue } from 'react-native-reanimated';

function App() {
  const sv = useSharedValue(100);

  // read a shared value
  console.log(sv.value);

  // and modify it
  sv.value += 50;
}
```

----------------------------------------

TITLE: Applying FadeIn and FadeOut Animations in React Native Reanimated
DESCRIPTION: This snippet demonstrates how to apply `FadeIn` and `FadeOut` predefined animations to an `Animated.View` component in React Native Reanimated. The `entering` prop specifies the animation for when the component is added, and `exiting` for when it's removed. This functionality requires `react-native-reanimated` as a dependency.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/layout-animations/entering-exiting-animations.mdx#_snippet_0

LANGUAGE: jsx
CODE:
```
import { FadeIn, FadeOut } from 'react-native-reanimated';

function App() {
  return <Animated.View entering={FadeIn} exiting={FadeOut} />;
}
```

----------------------------------------

TITLE: Animating Opacity with useAnimatedProps in React Native
DESCRIPTION: This snippet demonstrates the basic usage of `useAnimatedProps` to animate the `opacity` property of an `Animated.View` component. It creates an animated props object that dynamically sets opacity based on a shared value (`sv.value`), which is then applied to the component via the `animatedProps` prop. This hook is primarily used for animating properties of third-party components.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/core/useAnimatedProps.mdx#_snippet_0

LANGUAGE: jsx
CODE:
```
import { useAnimatedProps } from 'react-native-reanimated';

function App() {
  const animatedProps = useAnimatedProps(() => {
    return {
      opacity: sv.value ? 1 : 0,
    };
  });

  return <Animated.View animatedProps={animatedProps} />;
}
```

----------------------------------------

TITLE: Animating Opacity with useAnimatedProps in React Native
DESCRIPTION: This example demonstrates the basic usage of `useAnimatedProps` to animate the `opacity` property of an `Animated.View`. The `updater` function returns an object whose properties, like `opacity`, are animated based on a shared value (`sv.value`). The resulting `animatedProps` object is then passed to the `animatedProps` prop of an `Animated` component.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/core/useAnimatedProps.mdx#_snippet_0

LANGUAGE: jsx
CODE:
```
import { useAnimatedProps } from 'react-native-reanimated';

function App() {
  const animatedProps = useAnimatedProps(() => {
    return {
      opacity: sv.value ? 1 : 0,
    };
  });

  return <Animated.View animatedProps={animatedProps} />;
}
```

----------------------------------------

TITLE: Starting Timing Animation with Custom Configuration - React Native Reanimated - JavaScript
DESCRIPTION: This snippet demonstrates how to initiate a timing-based animation using `withTiming` in React Native Reanimated. It configures a custom duration of 500ms and applies an exponential 'out' easing function (`Easing.out(Easing.exp)`) to control the animation's progression. The `offset.value` shared value is animated to `0`.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-2.x/fundamentals/animations.md#_snippet_5

LANGUAGE: JavaScript
CODE:
```
import { Easing, withTiming } from 'react-native-reanimated';

offet.value = withTiming(0, {
  duration: 500,
  easing: Easing.out(Easing.exp),
});
```

----------------------------------------

TITLE: Accessing and Modifying Shared Value in React Native Reanimated
DESCRIPTION: This snippet demonstrates how to initialize a shared value using `useSharedValue` and how to access and modify its content via the `.value` property. The example shows incrementing the shared value within an event handler, highlighting how shared values can be dynamically updated to drive animations. Shared values automatically synchronize data across threads.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/fundamentals/glossary.mdx#_snippet_3

LANGUAGE: javascript
CODE:
```
function App() {
  const sv = useSharedValue(0);

  const handlePress = () => {
    sv.value += 10;
  };

  // rest of your glamorous code ✨
}
```

----------------------------------------

TITLE: Animating Inline Styles with useSharedValue - React Native Reanimated (JSX)
DESCRIPTION: This snippet illustrates how to perform basic style animations by directly passing a `useSharedValue` to a component's `style` prop. It initializes a shared value for `width` and applies it to an `Animated.View`, showcasing a simple approach to dynamic styling.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/fundamentals/animating-styles-and-props.mdx#_snippet_0

LANGUAGE: JSX
CODE:
```
import Animated, { useSharedValue } from 'react-native-reanimated';

function App() {
  const width = useSharedValue(100);

  return <Animated.View style={{ width }} />;
}
```

----------------------------------------

TITLE: Initializing a Shared Value in React Native Reanimated
DESCRIPTION: This snippet demonstrates how to create a Shared Value using the `useSharedValue` hook. The hook takes a single argument, which is the initial payload for the Shared Value, and can be any primitive or nested data type like an object, array, number, string, or boolean.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-2.x/fundamentals/shared-values.md#_snippet_0

LANGUAGE: js
CODE:
```
const sharedVal = useSharedValue(3.1415);
```

----------------------------------------

TITLE: Defining Animated Styles with useAnimatedStyle Hook (JavaScript)
DESCRIPTION: This JavaScript snippet illustrates the use of the `useAnimatedStyle` hook from React Native Reanimated. The provided callback function, which automatically runs on the UI thread, defines an animated style object, in this case setting the opacity to 0.5. This hook is essential for creating dynamic styles that update efficiently on the UI thread.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/fundamentals/glossary.mdx#_snippet_7

LANGUAGE: javascript
CODE:
```
const style = useAnimatedStyle(() => {
  console.log('Running on the UI thread');
  return { opacity: 0.5 };
});
```

----------------------------------------

TITLE: Manually Running a Worklet on the UI Thread with runOnUI in React Native Reanimated (JavaScript)
DESCRIPTION: This snippet demonstrates how to manually execute a worklet on the UI thread using the `runOnUI` function. It defines a worklet that takes a `greeting` parameter and then shows how `onPress` can invoke this worklet on the UI thread, passing arguments for direct UI manipulation or logging.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/fundamentals/glossary.mdx#_snippet_9

LANGUAGE: javascript
CODE:
```
function myWorklet(greeting) {
  'worklet';
  console.log(`${greeting} from the UI thread`);
}

function onPress() {
  // highlight-next-line
  runOnUI(myWorklet)('Howdy');
}
```

----------------------------------------

TITLE: Animating View Translation with useSharedValue and useAnimatedStyle (React Native Reanimated)
DESCRIPTION: This snippet demonstrates how to use `useSharedValue` to create a reactive variable and `useAnimatedStyle` to apply dynamic transformations to a React Native `Animated.View`. Pressing the 'Move' button updates the `offset` Shared Value, which in turn triggers the `useAnimatedStyle` worklet to re-run and update the view's `translateX` property, resulting in an immediate visual shift.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-2.x/fundamentals/shared-values.md#_snippet_3

LANGUAGE: JavaScript
CODE:
```
import Animated, {
  useSharedValue,
  useAnimatedStyle,
} from 'react-native-reanimated';

function Box() {
  const offset = useSharedValue(0);

  const animatedStyles = useAnimatedStyle(() => {
    return {
      transform: [{ translateX: offset.value }],
    };
  });

  return (
    <>
      <Animated.View style={[styles.box, animatedStyles]} />
      <Button
        onPress={() => (offset.value = Math.random() * 255)}
        title="Move"
      />
    </>
  );
}
```

----------------------------------------

TITLE: Applying withSpring Animation to a Shared Value in React Native Reanimated
DESCRIPTION: This snippet illustrates how an animation object, specifically one returned by an animation function like `withSpring`, is assigned to a shared value's `.value` property. Reanimated automatically interprets this object to drive the animation, ultimately storing a simple animatable value.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/fundamentals/glossary.mdx#_snippet_4

LANGUAGE: javascript
CODE:
```
sv.value = withSpring(100);
```

----------------------------------------

TITLE: Configuring withSpring Animation in React Native Reanimated
DESCRIPTION: This snippet illustrates how to customize a `withSpring` animation in React Native Reanimated, which is a physics-based animation. It configures the spring's behavior by setting `mass` (inertia), `stiffness` (bounciness), and `damping` (how quickly the animation settles) to achieve a desired physical effect.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/fundamentals/customizing-animation.mdx#_snippet_1

LANGUAGE: jsx
CODE:
```
import { withSpring } from 'react-native-reanimated';

withSpring(sv.value, {
  mass: 1,
  stiffness: 100,
  damping: 10,
});
```

----------------------------------------

TITLE: Defining a Basic Worklet Function (TypeScript)
DESCRIPTION: This snippet demonstrates the basic syntax for defining a worklet in Reanimated. A function becomes a worklet by including the `'worklet';` directive as its first statement, allowing it to be executed on the UI thread.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/reanimated-babel-plugin/about.md#_snippet_0

LANGUAGE: TypeScript
CODE:
```
function foo() {
  'worklet';
  console.log('Hello from worklet');
}
```

----------------------------------------

TITLE: Accessing and Modifying Shared Values in React Native Reanimated
DESCRIPTION: This code demonstrates how to define a shared value using `useSharedValue` with an initial state and how to access and modify its `.value` property. Changes to this property automatically synchronize across threads, enabling dynamic animation updates.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/fundamentals/glossary.mdx#_snippet_3

LANGUAGE: javascript
CODE:
```
function App() {
  const sv = useSharedValue(0);

  const handlePress = () => {
    sv.value += 10;
  };

  // rest of your glamorous code ✨
}
```

----------------------------------------

TITLE: JavaScript/TypeScript: Implement AccordionItem Component
DESCRIPTION: This code defines the `AccordionItem` component, which is responsible for rendering an individual expandable section. It utilizes `useSharedValue` for height management and `useAnimatedStyle` for smooth expansion/collapse animations based on the `isExpanded` prop and a configurable `duration`. The `children` prop holds the collapsible content.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/blog/accordion.md#_snippet_1

LANGUAGE: JavaScript
CODE:
```
import React from 'react';
import Animated, { useSharedValue, useAnimatedStyle, withTiming } from 'react-native-reanimated';
import { View } from 'react-native';

interface AccordionItemProps {
  isExpanded: boolean;
  duration?: number;
  children: React.ReactNode;
}

const AccordionItem: React.FC<AccordionItemProps> = ({ isExpanded, duration = 300, children }) => {
  const height = useSharedValue(0);
  const contentHeight = useSharedValue(0);

  const animatedStyle = useAnimatedStyle(() => {
    const targetHeight = isExpanded ? contentHeight.value : 0;
    return {
      height: withTiming(targetHeight, { duration }),
      opacity: withTiming(isExpanded ? 1 : 0, { duration })
    };
  });

  return (
    <Animated.View style={animatedStyle}>
      <View
        onLayout={(event) => {
          if (contentHeight.value === 0) {
            contentHeight.value = event.nativeEvent.layout.height;
          }
        }}
        style={{ position: 'absolute', width: '100%', opacity: 0 }}
      >
        {children}
      </View>
      <View>
        {children}
      </View>
    </Animated.View>
  );
};

export default AccordionItem;
```

----------------------------------------

TITLE: Manually Creating a Worklet in React Native Reanimated (JavaScript)
DESCRIPTION: This snippet illustrates how to explicitly declare a JavaScript function as a worklet using the `'worklet';` directive. This directive signals to the Reanimated Babel plugin that the function should be workletized, enabling it to run directly on the UI thread for performance-critical operations.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/fundamentals/glossary.mdx#_snippet_8

LANGUAGE: javascript
CODE:
```
function myWorklet() {
  'worklet';
  console.log('Running on the UI thread');
}
```

----------------------------------------

TITLE: Workletizing a Function Declaration in TypeScript
DESCRIPTION: This snippet shows how to mark a standard JavaScript function declaration as a worklet. By including the `'worklet';` directive, the Reanimated Babel Plugin processes this function for execution on the UI thread, allowing it to perform operations without impacting the main JavaScript thread.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/reanimated-babel-plugin/about.md#_snippet_2

LANGUAGE: TypeScript
CODE:
```
function foo() {
  'worklet';
  console.log('Hello from FunctionDeclaration');
}
```

----------------------------------------

TITLE: Install React Native Reanimated Package
DESCRIPTION: This snippet shows how to install the react-native-reanimated package using Expo, npm, or yarn. This is the essential first step to integrate Reanimated into an existing or new React Native project, making the library available for use.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/fundamentals/getting-started.mdx#_snippet_1

LANGUAGE: bash
CODE:
```
npx expo install react-native-reanimated
```

LANGUAGE: bash
CODE:
```
npm install react-native-reanimated
```

LANGUAGE: bash
CODE:
```
yarn add react-native-reanimated
```

----------------------------------------

TITLE: Basic Usage of useAnimatedScrollHandler with Animated.ScrollView (JavaScript)
DESCRIPTION: This snippet demonstrates how to use `useAnimatedScrollHandler` to capture the vertical scroll offset (`contentOffset.y`) from an `Animated.ScrollView` and store it in a `useSharedValue`. The returned handler is then passed to the `onScroll` prop of the `Animated.ScrollView`.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/scroll/useAnimatedScrollHandler.mdx#_snippet_0

LANGUAGE: javascript
CODE:
```
import { useAnimatedScrollHandler } from 'react-native-reanimated';

function App() {
  const offsetY = useSharedValue(0);

  const scrollHandler = useAnimatedScrollHandler((event) => {
    offsetY.value = event.contentOffset.y;
  });

  return <Animated.ScrollView onScroll={scrollHandler} />;
}
```

----------------------------------------

TITLE: Applying Worklet Directive in JavaScript
DESCRIPTION: This directive is crucial for Reanimated's Babel plugin to correctly identify and capture dependencies within a function, even when worklets resolve to plain JavaScript functions on platforms like the Web where a separate UI thread is unavailable.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/guides/worklets.mdx#_snippet_10

LANGUAGE: JavaScript
CODE:
```
'worklet';
```

----------------------------------------

TITLE: Basic Usage of useAnimatedRef with Animated.View (JSX)
DESCRIPTION: This snippet demonstrates the fundamental way to use `useAnimatedRef` to obtain a reference to an `Animated.View` component. The `animatedRef` object is then assigned to the `ref` property of the component, enabling access to its instance for operations like measuring or scrolling.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/core/useAnimatedRef.mdx#_snippet_0

LANGUAGE: JSX
CODE:
```
import { useAnimatedRef } from 'react-native-reanimated';

function App() {
  const animatedRef = useAnimatedRef();

  return <Animated.View ref={animatedRef} />;
}
```

----------------------------------------

TITLE: Configure Reanimated Babel Plugin
DESCRIPTION: This JavaScript snippet illustrates how to add the react-native-reanimated/plugin to your babel.config.js file. This plugin is crucial for automatically converting special JavaScript functions (worklets) to allow them to be passed and run on the UI thread, ensuring smooth animations. It must be listed last in the plugins array.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/fundamentals/getting-started.mdx#_snippet_2

LANGUAGE: js
CODE:
```
module.exports = {
  presets: [
    ... // don't add it here :)
  ],
  plugins: [
    ...
    'react-native-reanimated/plugin',
  ],
};
```

----------------------------------------

TITLE: Using useScrollViewOffset with Animated.ScrollView (TSX)
DESCRIPTION: This snippet demonstrates how to use `useScrollViewOffset` with an `Animated.ScrollView` component. It initializes an `animatedRef` and passes it to both the `ScrollView` and `useScrollViewOffset` to track the scroll offset, enabling scroll-based animations. The `scrollOffset` shared value will update automatically.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/scroll/useScrollViewOffset.mdx#_snippet_0

LANGUAGE: tsx
CODE:
```
import { useScrollViewOffset } from 'react-native-reanimated';

function App() {
  const animatedRef = useAnimatedRef();
  // highlight-next-line
  const scrollOffset = useScrollViewOffset(animatedRef);
  return (
    <Animated.ScrollView ref={animatedRef}>{/* ... */}</Animated.ScrollView>
  );
}
```

----------------------------------------

TITLE: Configuring Easing with withTiming in React Native Reanimated
DESCRIPTION: This snippet shows how to apply a custom easing function, specifically `Easing.bounce`, to a `withTiming` animation. It demonstrates passing an options object as the second argument to `withTiming` to customize the animation curve.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/animations/withTiming.mdx#_snippet_2

LANGUAGE: javascript
CODE:
```
import { Easing } from 'react-native-reanimated';

withTiming(sv.value, {
  easing: Easing.bounce,
});
```

----------------------------------------

TITLE: Wrapping App with GestureHandlerRootView (React Native)
DESCRIPTION: This snippet demonstrates how to properly wrap your React Native application with `GestureHandlerRootView` from `react-native-gesture-handler`. It is crucial to place this component as close to the root view as possible to ensure all gestures function correctly throughout the app.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/fundamentals/handling-gestures.mdx#_snippet_0

LANGUAGE: jsx
CODE:
```
import { GestureHandlerRootView } from 'react-native-gesture-handler';

function App() {
  return (
    <GestureHandlerRootView style={{ flex: 1 }}>
      {/* rest of the app */}
    </GestureHandlerRootView>
  );
}
```

----------------------------------------

TITLE: Using withSpring for Basic Animation in React Native Reanimated
DESCRIPTION: This snippet demonstrates the basic usage of `withSpring` to animate a shared value (`sv.value`) to `0`. It shows how to import `withSpring` from `react-native-reanimated` and apply it within a functional component.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/animations/withSpring.mdx#_snippet_0

LANGUAGE: javascript
CODE:
```
import { withSpring } from 'react-native-reanimated';

function App() {
  sv.value = withSpring(0);
  // ...
}
```

----------------------------------------

TITLE: Using useAnimatedStyle with Dependencies in React Native
DESCRIPTION: This snippet illustrates the basic usage of `useAnimatedStyle` within a React Native component, highlighting the `dependencies` array. It shows how the `updater` worklet returns a style object based on a `useSharedValue` and how the `dependencies` array can control when the worklet is rebuilt, affecting performance and reactivity.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-2.x/api/hooks/useAnimatedStyle.md#_snippet_0

LANGUAGE: JavaScript
CODE:
```
const App = () => {
  const [state, setState] = useState(0);
  const sv = useSharedValue(state);

  const style = useAnimatedStyle(() => {
    return {
      width: sv.value,
    };
  }, dependencies);
  //...
  return <></>;
};
```

----------------------------------------

TITLE: Configuring withTiming Animation in React Native Reanimated
DESCRIPTION: This snippet demonstrates how to customize a `withTiming` animation in React Native Reanimated. It shows passing a configuration object with `duration` (in milliseconds) and `easing` (an Easing function) to control the animation's speed and progression. The `sv.value` represents the shared value being animated.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/fundamentals/customizing-animation.mdx#_snippet_0

LANGUAGE: jsx
CODE:
```
import { withTiming, Easing } from 'react-native-reanimated';

withTiming(sv.value, {
  duration: 300,
  easing: Easing.inOut(Easing.quad),
});
```

----------------------------------------

TITLE: Defining a Basic Worklet in JavaScript
DESCRIPTION: This snippet demonstrates how to define a basic worklet function in JavaScript using the `'worklet';` directive at the top of the function body. This directive signals the Reanimated Babel Plugin to convert the function into a serializable object for UI thread execution. It logs a message from the worklet.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-3.x/guides/worklets.mdx#_snippet_0

LANGUAGE: javascript
CODE:
```
function myWorklet() {
  'worklet';
  console.log('Hello from a worklet');
}
```

----------------------------------------

TITLE: Creating a Mutable Value with makeMutable (JavaScript)
DESCRIPTION: This snippet demonstrates the basic usage of `makeMutable` to create a mutable value. It shows how to import the function and initialize a mutable variable with a numeric value, which can then be accessed and modified.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/advanced/makeMutable.mdx#_snippet_0

LANGUAGE: javascript
CODE:
```
import { makeMutable } from 'react-native-reanimated';

const mv = makeMutable(100);
```

----------------------------------------

TITLE: Calling JavaScript Callback from UI Thread with `runOnJS` - React Native Reanimated
DESCRIPTION: This example demonstrates how to use `runOnJS` within a React Native Reanimated application to safely call a JavaScript function (`recordResult`) from the UI thread. It uses `useSharedValue` to manage an animated value and `useDerivedValue` to trigger the `runOnJS` call whenever the value changes, showcasing a common pattern for bridging UI and JS threads.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-2.x/api/miscellaneous/runonJS.md#_snippet_3

LANGUAGE: JavaScript
CODE:
```
import {
  useSharedValue,
  runOnJS,
  useDerivedValue,
  useAnimatedReaction,
} from 'react-native-reanimated';
import { View, Button } from 'react-native';
import React from 'react';

export default function App() {
  const randomWidth = useSharedValue(10);
  const lastResults = [];

  const recordResult = (result) => {
    lastResults.push(result);
    if (lastResults.length > 3) {
      lastResults.shift();
    }
  };

  useDerivedValue(() => {
    runOnJS(recordResult)(randomWidth.value);
  });

  return (
    <View>
      <Button
        title="toggle"
        onPress={() => {
          randomWidth.value = Math.round(Math.random() * 350);
        }}
      />
    </View>
  );
}
```

----------------------------------------

TITLE: Applying Spring Animations Directly in `useAnimatedStyle` in React Native Reanimated
DESCRIPTION: This snippet demonstrates an alternative animation approach where `withSpring` is applied directly to the `translateX` property within the `useAnimatedStyle` hook. This centralizes the animation logic within the style definition, ensuring that any updates to `offset.value` will trigger a spring animation for the `translateX` property.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/versioned_docs/version-2.x/fundamentals/animations.md#_snippet_2

LANGUAGE: JavaScript
CODE:
```
const animatedStyles = useAnimatedStyle(() => {
  return {
    transform: [
      {
        translateX: withSpring(offset.value * 255),
      },
    ],
  };
});
```

----------------------------------------

TITLE: Basic Usage of useDerivedValue (JavaScript)
DESCRIPTION: This snippet demonstrates the fundamental way to use `useDerivedValue` to create a new reactive shared value. The `derivedValue` automatically updates whenever `sv.value` changes, multiplying its current value by 50. It illustrates how to derive a new value from an existing shared value, ensuring reactivity.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/core/useDerivedValue.mdx#_snippet_0

LANGUAGE: javascript
CODE:
```
import { useDerivedValue } from 'react-native-reanimated';

function App() {
  const derivedValue = useDerivedValue(() => {
    return sv.value * 50;
  });
}
```

----------------------------------------

TITLE: Rendering Interactive Spring Carousel Example - JSX
DESCRIPTION: Renders an `InteractiveExample` component, passing both the `SpringCarousel` component and its raw source code. This setup allows the documentation to display a live, interactive version of the component alongside its underlying code.
SOURCE: https://github.com/software-mansion/react-native-reanimated/blob/main/packages/docs-reanimated/docs/animations/withSpring.mdx#_snippet_4

LANGUAGE: jsx
CODE:
```
<InteractiveExample src={SpringCarouselSrc} component={SpringCarousel} />
```